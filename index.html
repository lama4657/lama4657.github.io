<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>حاسبة التكامل المحدد</title>
<style>
body { font-family: sans-serif; background: #f2f2f2; padding: 40px; }
.container { background: white; padding: 25px; max-width: 500px; margin: auto; border-radius: 12px; box-shadow: 0 0 10px #ccc; }
input, button { width: 100%; padding: 10px; margin: 8px 0; font-size: 18px; }
button { background: #3f51b5; color: white; border: none; cursor: pointer; border-radius: 8px; }
button:hover { background: #303f9f; }
.result { margin-top: 15px; background: #eee; padding: 10px; border-radius: 8px; font-size: 18px; }
</style>
</head>
<body>
<div class="container">
<img src="logo.png" style="width:80px; display:block; margin:auto; margin-bottom:15px;">
<h2 style="text-align:center;">حاسبة التكامل المحدد</h2>

<label>الدالة f(x):</label>
<input id="func" placeholder="مثال: x*x">

<label>الحد الأدنى a:</label>
<input id="a" placeholder="مثال: 0">

<label>الحد الأعلى b:</label>
<input id="b" placeholder="مثال: 2">

<button onclick="calc()">احسب</button>
<button onclick="copyResult()">نسخ النتيجة</button>

<div class="result" id="res">النتيجة ستظهر هنا</div>
</div>

<script>
function f(x, expr){
    return Function('x', 'return ' + expr)(x);
}

// Simpson numerical integration
function simpson(a, b, expr, n=1000){
    let h = (b - a) / n;
    let s = f(a, expr) + f(b, expr);
    for(let i=1;i<n;i++){
        let x = a + i*h;
        s += f(x, expr) * (i%2===0 ? 2 : 4);
    }
    return s * h / 3;
}

function calc(){
    let expr = document.getElementById("func").value;
    let a = parseFloat(document.getElementById("a").value);
    let b = parseFloat(document.getElementById("b").value);
    let result = simpson(a, b, expr);
    document.getElementById("res").innerText = result;
}

function copyResult(){
    navigator.clipboard.writeText(document.getElementById("res").innerText);
}
</script>
</body>
</html>
